<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RS License</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg:#f6f7fb;
      --card:#fff;
      --text:#0f172a;
      --muted:#64748b;
      --primary:#0066cc;
      --primary-700:#004999;
      --shadow:0 10px 25px rgba(0,0,0,0.12);
      --radius:14px;
      --font:'Poppins', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    body {
      margin:0;
      padding:20px;
      min-width:300px;
      max-width:340px;
      background:var(--bg);
      color:var(--text);
      font-family:var(--font);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:18px;
    }

    .card {
      width:100%;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:20px 18px 22px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      transition:opacity .25s ease, transform .25s ease;
    }

    .hidden { display:none !important; }

    h1 {
      margin:0;
      font-size:16px;
      font-weight:700;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      text-align:center;
    }

    /* Fix field alignment */
    .field-group {
      width:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }

    #licenseKey {
      width:90%;
      padding:10px;
      border-radius:10px;
      border:2px solid var(--primary);
      font-size:13px;
      text-align:center;
      outline:none;
      transition:border-color .2s, box-shadow .2s;
    }
    #licenseKey:focus {
      border-color:var(--primary-700);
      box-shadow:0 0 0 3px rgba(0,102,204,0.25);
    }

    #submitKey {
      width:90%;
      padding:10px;
      border-radius:10px;
      border:none;
      background:linear-gradient(135deg,var(--primary),var(--primary-700));
      color:#fff;
      font-weight:600;
      cursor:pointer;
      transition:filter .2s, transform .05s;
    }
    #submitKey:hover { filter:brightness(1.1); }
    #submitKey:active { transform:translateY(1px); }

    #status {
      font-size:12px;
      text-align:center;
      min-height:18px;
    }

    #success-screen {
      display:none;
      text-align:center;
      color:var(--primary-700);
    }
    #success-screen.active {
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }

    .license-tag {
      padding:6px 10px;
      background:#f1f5ff;
      border-radius:10px;
      border:1px solid #d0dcff;
      font-size:12px;
      word-break:break-all;
    }

    /* Toggle switch */
    #panel-toggle {
      display:flex;
      align-items:center;
      justify-content:space-between;
      background:var(--card);
      box-shadow:var(--shadow);
      border-radius:var(--radius);
      padding:12px 16px;
      font-size:13px;
      width:100%;
    }
    #panel-toggle.hidden { display:none; }

    .switch {
      position:relative;
      width:44px;
      height:24px;
    }
    .switch input {
      opacity:0;
      width:0;
      height:0;
    }
    .slider {
      position:absolute;
      inset:0;
      background:#cbd5e1;
      border-radius:999px;
      transition:background .25s ease;
      cursor:pointer;
    }
    .slider::before {
      content:"";
      position:absolute;
      left:3px;
      top:3px;
      width:18px;
      height:18px;
      background:#fff;
      border-radius:50%;
      transition:transform .25s ease;
      box-shadow:0 1px 3px rgba(0,0,0,0.2);
    }
    input:checked + .slider { background:var(--primary); }
    input:checked + .slider::before { transform:translateX(20px); }
  </style>
</head>
<body>
  <!-- License activation -->
  <section id="license-screen" class="card">
    <h1>üîë Activate License</h1>
    <div class="field-group">
      <input type="text" id="licenseKey" placeholder="XXXX-XXXX-XXXX" />
      <button id="submitKey">Activate</button>
    </div>
    <div id="status"></div>
  </section>

  <!-- Success -->
  <section id="success-screen" class="card">
    <h1>üéâ ·Éí·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·É£·Éö·Éò·Éê!</h1>
    <div id="activeKey" class="license-tag"></div>
  </section>

  <!-- Panel toggle -->
  <section id="panel-toggle" class="hidden">
    <span>RS Assistant</span>
    <label class="switch">
      <input type="checkbox" id="togglePanelCheckbox" />
      <span class="slider"></span>
    </label>
  </section>

  <script src="popup.js"></script>
</body>
</html>
